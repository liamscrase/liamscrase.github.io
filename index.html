<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
    <title>Liam Scrase Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Chivo+Mono:ital,wght@0,100..900;1,100..900&family=Zalando+Sans:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <header>

        <nav class="desktop-navbar">
            <div class="desktop-navbar-container">
                <a href="/">Liam Scrase</a>
                </a>
                <div class="nav-links">
                    <ul>
                        <li><a href="/about/">About</a></li>
                        <li><a href="/contact/">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <nav class="mobile-navbar">
            <input type="checkbox" id="menu-toggle" class="menu-toggle" />
            <div class="mobile-navbar-container">
                <a href="/">Liam Scrase</a>
                <label for="menu-toggle" class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </label>
            </div>
            <div class="offcanvas-menu">
                <div class="menu-items">
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/about/">About</a></li>
                        <li><a href="/contact/">Contact</a></li>
                    </ul>
                </div>

            </div>
            <label for="menu-toggle" class="offcanvas-backdrop"></label>
        </nav>
    </header>
    <div id="banner">
        <h1 id="banner-header"></h1>
    </div>

</body>

</html>

<style>
    :root {
        --accent-color: #ffffff;
    }

    /* Each line that holds text */
    #banner-header .line {
        margin: 12px 0;
        font-family: 'Chivo Mono', monospace !important;
        color: var(--accent-color);
        font-weight: 500;
        font-size: 2rem;
        text-align: center;
        /* center the whole line */
        position: relative;
        /* important: line is the positioning context for the absolute cursor */
        display: block;
    }

    /* The content span that actually receives the characters */
    #banner-header .content {
        display: inline-block;
        /* measured precisely */
        white-space: pre;
        /* preserve spaces if needed */
        font-family: 'Chivo Mono', monospace !important;
    }

    /* Single cursor element (absolute, so it doesn't affect layout) */
    .cursor {
        position: absolute;
        top: 0;
        /* adjusted in JS for pixel-perfect placement */
        transform: translateY(0);
        /* minor adjustments can be made here */
        pointer-events: none;
        font-family: 'Chivo Mono', monospace !important;
        font-size: 2rem;
        line-height: 1;
        color: var(--accent-color);
        user-select: none;
        /* blinking via CSS animation */
        animation: blink 1s steps(1) infinite;
    }

    @keyframes blink {

        0%,
        50% {
            opacity: 1;
        }

        50.01%,
        100% {
            opacity: 0;
        }
    }
</style>

<script>
/* ======= Config ======= */
const roles = ["Designer", "Web Developer", "Problem Solver"];
const typingSpeed = 100; // ms per character
/* ====================== */

const bannerHeader = document.getElementById("banner-header");

/* Create one cursor element and reuse it */
const cursor = document.createElement("span");
cursor.className = "cursor";
// Remove blinking for now; it will start later
cursor.style.animation = "none";
cursor.textContent = "|";

/* Utility: position the cursor at the end of the content inside a line */
function updateCursorPosition(lineEl, contentEl) {
  const contentRect = contentEl.getBoundingClientRect();
  const lineRect = lineEl.getBoundingClientRect();
  const left = contentRect.right - lineRect.left;
  const top = contentRect.top - lineRect.top;
  cursor.style.left = Math.round(left) + "px";
  cursor.style.top = Math.round(top) + "px";
}

/* Type a single role into `lineEl` (the line container). When done, call cb(). */
function typeRole(role, lineEl, cb) {
  lineEl.style.position = lineEl.style.position || "relative";

  const content = document.createElement("span");
  content.className = "content";
  lineEl.appendChild(content);

  // Attach cursor (always visible)
  lineEl.appendChild(cursor);
  updateCursorPosition(lineEl, content);

  let i = 0;
  function step() {
    if (i < role.length) {
      content.textContent += role[i];
      i++;
      updateCursorPosition(lineEl, content);
      setTimeout(step, typingSpeed);
    } else {
      cb();
    }
  }

  step();
}

/* Loop through roles and type them one after another */
function showRoles() {
  let index = 0;

  function next() {
    if (index < roles.length) {
      const line = document.createElement("div");
      line.className = "line";
      bannerHeader.appendChild(line);

      typeRole(roles[index], line, () => {
        index++;
        setTimeout(next, 200);
      });
    } else {
      // All roles typed â€” start blinking cursor
      cursor.style.animation = "blink 1s steps(1) infinite";
    }
  }

  next();
}

showRoles();

</script>